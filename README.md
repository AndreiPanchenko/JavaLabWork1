# Лабораторная работа №1

## Описание программы

Данная программа представляет собой консольное приложение на Java, реализующее 20 различных задач, разделенных на 4 категории:
- **Методы** - базовые операции с данными
- **Условия** - работа с условными конструкциями
- **Циклы** - операции с использованием циклов
- **Массивы** - работа с одномерными массивами

Программа предоставляет интерактивное меню для навигации между разделами и задачами, с **расширенной проверкой ввода** и удобным интерфейсом. Все методы реализованы в классе `Methods` и вызываются через его экземпляр.

### Основные улучшения:
- **Полная валидация ввода** для всех типов данных
- **Обработка граничных случаев** и некорректных значений
- **Информативные сообщения об ошибках**
- **Защита от сбоев** при некорректном вводе пользователя

---

## Структура проекта

Проект состоит из двух основных файлов:

- **`Methods.java`** - содержит все методы для решения задач (нестатические) с расширенной проверкой ошибок
- **`Main.java`** - содержит главное меню, логику взаимодействия с пользователем и вспомогательные методы валидации

### Особенности архитектуры:
- Используется объектно-ориентированный подход (нестатические методы)
- Реализована **полная обработка ошибок ввода** пользователя
- Модульная структура с разделением на логические блоки
- **Вспомогательные методы валидации** для разных типов данных

### Новые методы валидации в Main.java:
```java
private static int readInt(Scanner scanner, String prompt)
private static double readDouble(Scanner scanner, String prompt) 
private static long readLong(Scanner scanner, String prompt)
private static char readChar(Scanner scanner, String prompt)
```

---

## Формулировки задач и методы решения

### Раздел 1: Методы

#### Задача 1. Дробная часть
**Формулировка:** Реализовать метод, возвращающий только дробную часть числа х.

**Метод решения:**
```java
public double fraction(double x) {
    return x - (int) x;
}
```
**Принцип работы:** Вычитает целую часть из числа, оставляя только дробную.

#### Задача 2. Букву в число
**Формулировка:** Преобразовать символ-цифру в соответствующее число.

**Метод решения:**
```java
public int charToNum(char x) {
    // Проверка на цифровой символ
    if (!Character.isDigit(x)) {
        System.out.println("Ошибка: введен не цифровой символ!");
        return -1;
    }
    return x - '0';
}
```
**Принцип работы:** Использует разность кодов символов для получения числового значения. 

#### Задача 3. Двузначное
**Формулировка:** Проверить, является ли число двузначным.

**Метод решения:**
```java
public boolean is2Digits(int x) {
    return x >= 10 && x <= 99;
}
```
**Принцип работы:** Проверяет, находится ли число в диапазоне от 10 до 99 включительно.

#### Задача 4. Диапазон
**Формулировка:** Проверить, принадлежит ли число диапазону [a, b].

**Метод решения:**
```java
public boolean isInRange(int a, int b, int num) {
    return num >= Math.min(a, b) && num <= Math.max(a, b);
}
```
**Принцип работы:** Определяет границы диапазона независимо от порядка a и b.

#### Задача 5. Равенство
**Формулировка:** Проверить равенство трех чисел.

**Метод решения:**
```java
public boolean isEqual(int a, int b, int c) {
    return a == b && b == c;
}
```
**Принцип работы:** Проверяет, что все три числа равны между собой.

---

### Раздел 2: Условия

#### Задача 1. Модуль числа
**Формулировка:** Вычислить модуль числа.

**Метод решения:**
```java
public int abs(int x) {
    return x < 0 ? -x : x;
}
```
**Принцип работы:** Использует тернарный оператор для возврата абсолютного значения.

#### Задача 2. Тридцать пять
**Формулировка:** Проверить делимость на 3 или 5, но не на оба одновременно.

**Метод решения:**
```java
public boolean is35(int x) {
    return (x % 3 == 0 || x % 5 == 0) && !(x % 3 == 0 && x % 5 == 0);
}
```
**Принцип работы:** Комбинирует условия делимости с исключающим ИЛИ.

#### Задача 3. Тройной максимум
**Формулировка:** Найти максимальное из трех чисел.

**Метод решения:**
```java
public int max3(int x, int y, int z) {
    int max = x;
    if (y > max) max = y;
    if (z > max) max = z;
    return max;
}
```
**Принцип работы:** Последовательно сравнивает числа, находя максимум.

#### Задача 4. Двойная сумма
**Формулировка:** Вернуть сумму чисел, заменяя её на 20 если сумма в диапазоне [10, 19].

**Метод решения:**
```java
public int sum2(int x, int y) {
    int sum = x + y;
    return (sum >= 10 && sum <= 19) ? 20 : sum;
}
```
**Принцип работы:** Проверяет диапазон суммы с помощью тернарного оператора.

#### Задача 5. День недели
**Формулировка:** Вернуть название дня недели по номеру.

**Метод решения:**
```java
public String day(int x) {
    if (x == 1) return "понедельник";
    else if (x == 2) return "вторник";
    else if (x == 3) return "среда";
    else if (x == 4) return "четверг";
    else if (x == 5) return "пятница";
    else if (x == 6) return "суббота";
    else if (x == 7) return "воскресенье";
    else return "это не день недели";
}
```
**Принцип работы:** Использует цепочку if-else для определения дня недели. 

---

### Раздел 3: Циклы

#### Задача 1. Числа подряд
**Формулировка:** Вернуть строку с числами от 0 до x включительно.

**Метод решения:**
```java
public String listNums(int x) {
    //Проверка на отрицательные значения
    if (x < 0) {
        return "Ошибка: число должно быть неотрицательным!";
    }
    String result = "";
    for (int i = 0; i <= x; i++) {
        result += i + " ";
    }
    return result.trim();
}
```
**Принцип работы:** Использует цикл for для построения строки. 

#### Задача 2. Четные числа
**Формулировка:** Вернуть строку с четными числами от 0 до x.

**Метод решения:**
```java
public String chet(int x) {
    // Проверка на отрицательные значения
    if (x < 0) {
        return "Ошибка: число должно быть неотрицательным!";
    }
    String result = "";
    for (int i = 0; i <= x; i += 2) {
        result += i + " ";
    }
    return result.trim();
}
```
**Принцип работы:** Использует цикл с шагом 2 для перебора четных чисел. 

#### Задача 3. Длина числа
**Формулировка:** Подсчитать количество цифр в числе.

**Метод решения:**
```java
public int numLen(long x) {
    if (x == 0) {
        return 1;
    }
    //  для работы с отрицательными числами
    long temp = Math.abs(x);
    int count = 0;
    while (temp != 0) {
        temp /= 10;
        count++;
    }
    return count;
}
```
**Принцип работы:** Использует цикл while с делением на 10 для подсчета цифр. 

#### Задача 4. Квадрат
**Формулировка:** Нарисовать квадрат из звёздочек заданного размера.

**Метод решения:**
```java
public void square(int x) {
    if (x < 0) {
        System.out.println("Ошибка: размер не может быть отрицательным");
        return;
    }
    for (int i = 0; i < x; i++) {
        for (int j = 0; j < x; j++) {
            System.out.print("*");
        }
        System.out.println();
    }
}
```
**Принцип работы:** Использует вложенные циклы для построения квадрата. 

#### Задача 5. Правый треугольник
**Формулировка:** Нарисовать прямоугольный треугольник, выровненный по правому краю.

**Метод решения:**
```java
public void rightTriangle(int x) {
    //Проверка на отрицательные значения
    if (x < 0) {
        System.out.println("Ошибка: высота не может быть отрицательной");
        return;
    }
    for (int i = 1; i <= x; i++) {
        // Печать пробелов
        for (int j = 0; j < x - i; j++) {
            System.out.print(" ");
        }
        // Печать звёздочек
        for (int j = 0; j < i; j++) {
            System.out.print("*");
        }
        System.out.println();
    }
}
```
**Принцип работы:** Комбинирует циклы для пробелов и звездочек с правильным выравниванием. 

---

### Раздел 4: Массивы

#### Задача 1. Поиск первого значения
**Формулировка:** Найти индекс первого вхождения элемента в массиве.

**Метод решения:**
```java
public int findFirst(int[] arr, int x) {
    // Проверка на пустой массив
    if (arr.length == 0) {
        System.out.println("Ошибка: массив пуст!");
        return -1;
    }
    for (int i = 0; i < arr.length; i++) {
        if (arr[i] == x) {
            return i;
        }
    }
    System.out.println("Элемент " + x + " не найден в массиве");
    return -1;
}
```
**Принцип работы:** Линейный поиск по массиву. 

#### Задача 2. Поиск максимального
**Формулировка:** Найти элемент с максимальным модулем.

**Метод решения:**
```java
public int maxAbs(int[] arr) {
    // Проверка на пустой массив
    if (arr.length == 0) {
        System.out.println("Ошибка: массив пуст!");
        return Integer.MIN_VALUE;
    }
    int max = arr[0];
    for (int num : arr) {
        if (Math.abs(num) > Math.abs(max)) {
            max = num;
        }
    }
    return max;
}
```
**Принцип работы:** Сравнивает модули элементов массива. 

#### Задача 3. Добавление массива в массив
**Формулировка:** Вставить один массив в другой на указанную позицию.

**Метод решения:**
```java
public int[] add(int[] arr, int[] ins, int pos) {
    // Проверка на корректность позиции
    if (pos < 0 || pos > arr.length) {
        System.out.println("Ошибка: позиция должна быть в диапазоне от 0 до " + arr.length);
        return new int[0];
    }
    int[] result = new int[arr.length + ins.length];
    // Копируем левую часть исходного массива
    System.arraycopy(arr, 0, result, 0, pos);
    // Вставляем новый массив
    System.arraycopy(ins, 0, result, pos, ins.length);
    // Копируем правую часть исходного массива
    System.arraycopy(arr, pos, result, pos + ins.length, arr.length - pos);
    return result;
}
```
**Принцип работы:** Использует System.arraycopy для эффективного копирования. 

#### Задача 4. Возвратный реверс
**Формулировка:** Вернуть перевернутую копию массива.

**Метод решения:**
```java
public int[] reverseBack(int[] arr) {
    // Проверка на пустой массив
    if (arr.length == 0) {
        System.out.println("Ошибка: массив пуст!");
        return new int[0];
    }
    int[] reversed = new int[arr.length];
    for (int i = 0; i < arr.length; i++) {
        reversed[i] = arr[arr.length - 1 - i];
    }
    return reversed;
}
```
**Принцип работы:** Заполняет новый массив в обратном порядке. 

#### Задача 5. Все вхождения
**Формулировка:** Найти все индексы вхождения элемента в массив.

**Метод решения:**
```java
public int[] findAll(int[] arr, int x) {
    // Проверка на пустой массив
    if (arr.length == 0) {
        System.out.println("Ошибка: массив пуст!");
        return new int[0];
    }
    int count = 0;
    for (int num : arr) {
        if (num == x) {
            count++;
        }
    }
    int[] indices = new int[count];
    int index = 0;
    for (int i = 0; i < arr.length; i++) {
        if (arr[i] == x) {
            indices[index++] = i;
        }
    }
    return indices;
}
```
**Принцип работы:** Двухэтапный поиск: подсчет и заполнение индексов. 

#### Вспомогательный метод для парсинга массивов:
```java
public int[] parseArray(String input) {
    if (input.trim().isEmpty()) {
        return new int[0];
    }
    // обработка исключений 
    try {
        String[] parts = input.trim().split("\\s+");
        int[] result = new int[parts.length];
        for (int i = 0; i < parts.length; i++) {
            result[i] = Integer.parseInt(parts[i]);
        }
        return result;
    } catch (NumberFormatException e) {
        System.out.println("Ошибка: в массиве должны быть только целые числа!");
        return new int[0];
    }
}
```
**Принцип работы:** Преобразует строку в массив целых чисел. 

---

## Тестирование программы

### Тестирование раздела "Методы"

#### Метод fraction() - получение дробной части числа
| Входные данные | Ожидаемый результат | Фактический результат | Статус |
|----------------|---------------------|----------------------|--------|
| 10.5           | 0.5                 | 0.5                  | ✅     |
| 5.0            | 0.0                 | 0.0                  | ✅     |
| -3.75          | -0.75               | -0.75                | ✅     |

#### Метод charToNum() - преобразование символа в число
| Входные данные | Ожидаемый результат | Фактический результат | Статус |
|----------------|---------------------|----------------------|--------|
| '5'            | 5                   | 5                    | ✅     |
| '0'            | 0                   | 0                    | ✅     |
| 'a'            | -1 (ошибка)         | -1 (ошибка)          | ✅     |

### Тестирование раздела "Условия"

#### Метод is35() - проверка делимости
| Входные данные | Ожидаемый результат | Фактический результат | Статус |
|----------------|---------------------|----------------------|--------|
| 3              | true                | true                 | ✅     |
| 5              | true                | true                 | ✅     |
| 15             | false               | false                | ✅     |

#### Метод day() - день недели
| Входные данные | Ожидаемый результат | Фактический результат | Статус |
|----------------|---------------------|----------------------|--------|
| 1              | "понедельник"       | "понедельник"        | ✅     |
| 8              | "это не день недели"| "это не день недели" | ✅     |

### Тестирование раздела "Циклы"

#### Метод listNums() - числа от 0 до x
| Входные данные | Ожидаемый результат | Фактический результат | Статус |
|----------------|---------------------|----------------------|--------|
| 3              | "0 1 2 3"           | "0 1 2 3"            | ✅     |
| 0              | "0"                 | "0"                  | ✅     |
| -5             | "Ошибка..."         | "Ошибка..."          | ✅     |

#### Метод square() - вывод квадрата
**Входные данные:** 3
**Ожидаемый результат:**
```
***
***
***
```
**Статус:** ✅

**Входные данные:** -2
**Ожидаемый результат:** "Ошибка: размер не может быть отрицательным"
**Статус:** ✅

### Тестирование раздела "Массивы"

#### Метод findFirst() - поиск элемента
| Входные данные | Ожидаемый результат | Фактический результат | Статус |
|----------------|---------------------|----------------------|--------|
| [1,2,3], 2     | 1                   | 1                    | ✅     |
| [1,2,3], 4     | -1                  | -1                   | ✅     |
| [], 1          | -1 (ошибка)         | -1 (ошибка)          | ✅     |

#### Метод add() - вставка массива
**Входные данные:** [1,2,3], [9,9], 1
**Ожидаемый результат:** [1,9,9,2,3]
**Фактический результат:** [1,9,9,2,3]
**Статус:** ✅

**Входные данные:** [1,2,3], [9,9], 5
**Ожидаемый результат:** пустой массив (ошибка)
**Фактический результат:** пустой массив (ошибка)
**Статус:** ✅

#### Тестирование парсинга массивов
**Входные данные:** "1 2 abc 4"
**Ожидаемый результат:** пустой массив (ошибка)
**Фактический результат:** пустой массив (ошибка)
**Статус:** ✅

## Результаты тестирования

Все тесты успешно пройдены. Программа корректно обрабатывает:

Программа демонстрирует **надежную работу** и соответствует всем поставленным требованиям, включая **расширенную обработку ошибок ввода**.
